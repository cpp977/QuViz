#include <iostream>
#include <map>

#include "C60.h"

const std::map<std::size_t, std::size_t> C60::spiral_map_i = {
    {40, 0},  {36, 1},  {28, 2},  {8, 3},   {32, 4},  {56, 5},  {24, 6},  {48, 7},  {16, 8},  {2, 9},   {0, 10},  {12, 11},
    {44, 12}, {20, 13}, {52, 14}, {53, 15}, {29, 16}, {9, 17},  {33, 18}, {57, 19}, {25, 20}, {6, 21},  {7, 22},  {26, 23},
    {50, 24}, {18, 25}, {42, 26}, {38, 27}, {14, 28}, {46, 29}, {22, 30}, {5, 31},  {4, 32},  {21, 33}, {45, 34}, {13, 35},
    {37, 36}, {41, 37}, {17, 38}, {49, 39}, {51, 40}, {27, 41}, {59, 42}, {58, 43}, {34, 44}, {10, 45}, {30, 46}, {54, 47},
    {55, 48}, {23, 49}, {47, 50}, {15, 51}, {1, 52},  {3, 53},  {19, 54}, {43, 55}, {35, 56}, {11, 57}, {31, 58}, {39, 59}};

const std::map<std::size_t, std::size_t> C60::spiral_map = {
    {0, 40},  {1, 36},  {2, 28},  {3, 8},   {4, 32},  {5, 56},  {6, 24},  {7, 48},  {8, 16},  {9, 2},   {10, 0},  {11, 12},
    {12, 44}, {13, 20}, {14, 52}, {15, 53}, {16, 29}, {17, 9},  {18, 33}, {19, 57}, {20, 25}, {21, 6},  {22, 7},  {23, 26},
    {24, 50}, {25, 18}, {26, 42}, {27, 38}, {28, 14}, {29, 46}, {30, 22}, {31, 5},  {32, 4},  {33, 21}, {34, 45}, {35, 13},
    {36, 37}, {37, 41}, {38, 17}, {39, 49}, {40, 51}, {41, 27}, {42, 59}, {43, 58}, {44, 34}, {45, 10}, {46, 30}, {47, 54},
    {48, 55}, {49, 23}, {50, 47}, {51, 15}, {52, 1},  {53, 3},  {54, 19}, {55, 43}, {56, 35}, {57, 11}, {58, 31}, {59, 39}};

const std::map<std::size_t, std::size_t> C60::cuthill_map_i = {
    {0, 0},   {1, 1},   {2, 4},   {3, 6},   {4, 2},   {5, 7},   {6, 14},  {7, 8},   {8, 3},   {9, 9},   {10, 11}, {11, 5},
    {12, 12}, {13, 18}, {14, 10}, {15, 19}, {16, 22}, {17, 13}, {18, 23}, {19, 15}, {20, 25}, {21, 24}, {22, 34}, {23, 26},
    {24, 16}, {25, 17}, {26, 27}, {27, 30}, {28, 20}, {29, 21}, {30, 31}, {31, 38}, {32, 28}, {33, 29}, {34, 39}, {35, 42},
    {36, 32}, {37, 33}, {38, 43}, {39, 35}, {40, 45}, {41, 44}, {42, 46}, {43, 36}, {44, 37}, {45, 47}, {46, 40}, {47, 41},
    {48, 50}, {49, 48}, {50, 49}, {51, 56}, {52, 51}, {53, 52}, {54, 53}, {55, 58}, {56, 54}, {57, 55}, {58, 57}, {59, 59}};

const std::map<std::size_t, std::size_t> C60::cuthill_map = {
    {0, 0},   {1, 1},   {4, 2},   {6, 3},   {2, 4},   {7, 5},   {14, 6},  {8, 7},   {3, 8},   {9, 9},   {11, 10}, {5, 11},
    {12, 12}, {18, 13}, {10, 14}, {19, 15}, {22, 16}, {13, 17}, {23, 18}, {15, 19}, {25, 20}, {24, 21}, {34, 22}, {26, 23},
    {16, 24}, {17, 25}, {27, 26}, {30, 27}, {20, 28}, {21, 29}, {31, 30}, {38, 31}, {28, 32}, {29, 33}, {39, 34}, {42, 35},
    {32, 36}, {33, 37}, {43, 38}, {35, 39}, {45, 40}, {44, 41}, {46, 42}, {36, 43}, {37, 44}, {47, 45}, {40, 46}, {41, 47},
    {50, 48}, {48, 49}, {49, 50}, {56, 51}, {51, 52}, {52, 53}, {53, 54}, {58, 55}, {54, 56}, {55, 57}, {57, 58}, {59, 59}};

void C60::initializeVertexMap(const QuViz::MapType& opt, const std::string& filename)
{
    if(opt == QuViz::MapType::Spiral) {
        vertex_map = spiral_map;
    } else if(opt == QuViz::MapType::Cuthill) {
        for(std::size_t i = 0; i < vertices.size(); i++) { vertex_map[i] = spiral_map.at(cuthill_map.at(i)); }
    } else if(opt == QuViz::MapType::Identity) {
        for(std::size_t i = 0; i < vertices.size(); i++) { vertex_map[i] = i; }
    } else if(opt == QuViz::MapType::FromFile) {
        vertex_map = IO::loadVertexMap(filename);
    } else {
        assert(false and "Unsupported option for QuViz::MapType");
    }
}
// const std::map<std::size_t, std::size_t> C60::cuthill_map_i = {
//     {0, 0},   {1, 1},   {2, 4},   {3, 6},   {4, 2},   {5, 7},   {6, 14},  {7, 8},   {8, 3},   {9, 9},   {10, 11}, {11, 5},
//     {12, 12}, {13, 18}, {14, 10}, {15, 19}, {16, 22}, {17, 13}, {18, 23}, {19, 15}, {20, 25}, {21, 24}, {22, 16}, {23, 17},
//     {24, 20}, {25, 21}, {26, 28}, {27, 29}, {28, 32}, {29, 33}, {30, 43}, {31, 35}, {32, 34}, {33, 26}, {34, 27}, {35, 30},
//     {36, 31}, {37, 38}, {38, 39}, {39, 42}, {40, 51}, {41, 52}, {42, 53}, {43, 45}, {44, 44}, {45, 46}, {46, 36}, {47, 37},
//     {48, 47}, {49, 40}, {50, 41}, {51, 50}, {52, 48}, {53, 49}, {54, 56}, {55, 59}, {56, 58}, {57, 54}, {58, 55}, {59, 57}};

// const std::map<std::size_t, std::size_t> C60::cuthill_map = {
//     {0, 0},   {1, 1},   {4, 2},   {6, 3},   {2, 4},   {7, 5},   {14, 6},  {8, 7},   {3, 8},   {9, 9},   {11, 10}, {5, 11},
//     {12, 12}, {18, 13}, {10, 14}, {19, 15}, {22, 16}, {13, 17}, {23, 18}, {15, 19}, {25, 20}, {24, 21}, {16, 22}, {17, 23},
//     {20, 24}, {21, 25}, {28, 26}, {29, 27}, {32, 28}, {33, 29}, {43, 30}, {35, 31}, {34, 32}, {26, 33}, {27, 34}, {30, 35},
//     {31, 36}, {38, 37}, {39, 38}, {42, 39}, {51, 40}, {52, 41}, {53, 42}, {45, 43}, {44, 44}, {46, 45}, {36, 46}, {37, 47},
//     {47, 48}, {40, 49}, {41, 50}, {50, 51}, {48, 52}, {49, 53}, {56, 54}, {59, 55}, {58, 56}, {54, 57}, {55, 58}, {57, 59}};

const std::array<std::vector<int>, 32> C60::faces = {
    std::vector<int>{0, 2, 18, 42, 38, 14},   std::vector<int>{1, 3, 17, 41, 37, 13},   std::vector<int>{2, 0, 12, 36, 40, 16},
    std::vector<int>{3, 1, 15, 39, 43, 19},   std::vector<int>{4, 5, 23, 47, 45, 21},   std::vector<int>{5, 4, 20, 44, 46, 22},
    std::vector<int>{6, 7, 26, 50, 48, 24},   std::vector<int>{7, 6, 25, 49, 51, 27},   std::vector<int>{8, 9, 33, 57, 56, 32},
    std::vector<int>{9, 8, 28, 52, 53, 29},   std::vector<int>{10, 11, 31, 55, 54, 30}, std::vector<int>{11, 10, 34, 58, 59, 35},
    std::vector<int>{12, 44, 20, 52, 28, 36}, std::vector<int>{13, 37, 29, 53, 21, 45}, std::vector<int>{14, 38, 30, 54, 22, 46},
    std::vector<int>{15, 47, 23, 55, 31, 39}, std::vector<int>{16, 40, 32, 56, 24, 48}, std::vector<int>{17, 49, 25, 57, 33, 41},
    std::vector<int>{18, 50, 26, 58, 34, 42}, std::vector<int>{19, 43, 35, 59, 27, 51}, std::vector<int>{0, 14, 46, 44, 12},
    std::vector<int>{1, 13, 45, 47, 15},      std::vector<int>{2, 16, 48, 50, 18},      std::vector<int>{3, 19, 51, 49, 17},
    std::vector<int>{4, 21, 53, 52, 20},      std::vector<int>{5, 22, 54, 55, 23},      std::vector<int>{6, 24, 56, 57, 25},
    std::vector<int>{7, 27, 59, 58, 26},      std::vector<int>{8, 32, 40, 36, 28},      std::vector<int>{9, 29, 37, 41, 33},
    std::vector<int>{10, 30, 38, 42, 34},     std::vector<int>{11, 35, 43, 39, 31}};
